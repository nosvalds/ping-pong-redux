(this["webpackJsonpping-pong"]=this["webpackJsonpping-pong"]||[]).push([[0],{1:function(e){e.exports=JSON.parse('{"player":{"English":"Player","Esperanto":"Ludanto"},"serving":{"English":"Serving","Esperanto":"Servas"},"new_game":{"English":"New Game","Esperanto":"Nova Ludo"},"wins":{"English":"Wins","Esperanto":"Venkoj"},"game":{"English":"Game","Esperanto":"Ludo"},"loss":{"English":"Loss","Esperanto":"Perdo"},"score":{"English":"Score","Esperanto":"Poentaro"},"name":{"English":"Name","Esperanto":"Nomo"},"winning_score":{"English":"Winning Score","Esperanto":"Venkanta Poentaro"},"alt_serve":{"English":"Alternate Serve Every","Esperanto":"Alternu servi \u0109iun"},"start_game":{"English":"Start Game","Esperanto":"Komencu Ludon"},"not_complete":{"English":"Not Complete","Esperanto":"Ne Kompleta"},"actions":{"English":"Actions","Esperanto":"Agoj"},"continue":{"English":"Continue","Esperanto":"Da\u016drigu"},"game_history":{"English":"Game History","Esperanto":"Ludhistorio"}}')},33:function(e,a,n){e.exports=n(61)},38:function(e,a,n){},61:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),l=n(11),c=n.n(l),o=(n(38),n(3)),i=function(e){var a=e.title;return r.a.createElement("header",{className:"jumbotron mt-1 mb-4 bg-primary"},r.a.createElement("h1",{className:"text-light display-3"},a),r.a.createElement("p",{class:"lead text-light"},"The ping pong scoring web app built with React and Redux."))},s=n(1),u=n(6),m=n(7),g=function(e){var a=e.gameHistory,n=e.language,t=e.handleDelete,l=e.handleContinue;return r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:"p-4 m-0 bg-info text-white border border-info rounded text-center"},s.game_history[n]),r.a.createElement("table",{className:"table border border-secondary rounded table-striped bg-light"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},s.game[n]+" #"),r.a.createElement("th",{scope:"col"},s.player[n]),r.a.createElement("th",{scope:"col"},s.wins[n]+"/"+s.loss[n]),r.a.createElement("th",{scope:"col"},s.score[n]),r.a.createElement("th",{scope:"col"},s.actions[n]))),r.a.createElement("tbody",null,a.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("tr",null,r.a.createElement("th",{scope:"row",rowSpan:"2"},e.id),r.a.createElement("td",null,"".concat(s.player[n]," 1: ").concat(e.player_1.name)),e.complete?e.player_1.won?r.a.createElement("td",{className:"table-success"},s.wins[n]):r.a.createElement("td",{className:"table-danger"},s.loss[n]):r.a.createElement("th",{className:"table-warning",scope:"row",rowSpan:"2"},s.not_complete[n]),r.a.createElement("td",null,e.player_1.score),r.a.createElement("td",null,e.complete?null:r.a.createElement("button",{className:"btn btn-outline-primary btn-sm",onClick:function(){return l(e.id)}},s.continue[n]))),r.a.createElement("tr",null,r.a.createElement("td",null,"".concat(s.player[n]," 2: ").concat(e.player_2.name)),e.complete?e.player_2.won?r.a.createElement("td",{className:"table-success"},s.wins[n]):r.a.createElement("td",{className:"table-danger"},s.loss[n]):null,r.a.createElement("td",null,e.player_2.score),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){return t(e.id)}},r.a.createElement(u.a,{icon:m.c})))))})))))},p=n(27),E=n.n(p).a.create({baseURL:"https://restful.training/api/ping-pong/games",headers:{Accept:"application/json",Authorization:"Bearer PHMiSM4uqpLgY0CuAeS97fDz55A9AepQR0FrhCFvsbn9SJzjKl0cMtswdBBFRxuntN90wECzmCQ8Ep38"}}),d=function(e){return function(a,n){var t=n().gameId;E.patch("".concat(t,"/score"),{player:e}).then((function(e){var n=e.data;a(function(e){var a=0;return e.player_1.won?a=1:e.player_2.won&&(a=2),{type:"UPDATE_SCORE",player1:e.player_1.score,player2:e.player_2.score,server:e.player_1.serving?1:2,winner:a}}(n.data))}))}},y=function(){return function(e){E.get("/").then((function(a){var n=a.data;e(function(e){return{type:"SAVE_HISTORY",gameHistory:e}}(n.data))}))}},b=Object(o.b)((function(e){return{gameHistory:e.gameHistory,language:e.language}}),(function(e){return{handleDelete:function(a){return e(function(e){return function(a){E.delete("".concat(e)).then((function(){a(function(e){return{type:"REMOVE_GAME",id:e}}(e))}))}}(a))},handleContinue:function(a){return e(function(e){return function(a){E.get("".concat(e)).then((function(e){var n=e.data;n.data.complete?y():a(function(e){return{type:"RESUME_GAME",gameId:e.id,player1:e.player_1.score,player2:e.player_2.score,player1Name:e.player_1.name,player2Name:e.player_2.name,winningScore:+e.winning_score,serveInterval:+e.change_serve,server:e.player_1.serving?1:2}}(n.data))}))}}(a))}}}))(g),h=n(9),v=function(e){var a=e.handleSubmit,n=e.player1Name,l=e.player2Name,c=e.winningScore,o=e.serveInterval,i=e.language,u=Object(t.useState)(n),m=Object(h.a)(u,2),g=m[0],p=m[1],E=Object(t.useState)(l),d=Object(h.a)(E,2),y=d[0],b=d[1],v=Object(t.useState)(c),f=Object(h.a)(v,2),N=f[0],w=f[1],_=Object(t.useState)(o),S=Object(h.a)(_,2),O=S[0],j=S[1];return r.a.createElement("div",{className:"container p-5"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a({player1Name:g,player2Name:y,winningScore:N,serveInterval:O})},className:"mb-4 p-5 border border-warning rounded bg-light"},r.a.createElement("h3",{className:"text-center border-bottom pb-4"},"New Game - Settings"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"player1Name"},"".concat(s.player[i]," 1 ").concat(s.name[i])),r.a.createElement("input",{className:"form-control",type:"text",id:"player1Name",value:g,onChange:function(e){return p(e.currentTarget.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"player2Name"},"".concat(s.player[i]," 2 ").concat(s.name[i])),r.a.createElement("input",{className:"form-control",type:"text",id:"player2Name",value:y,onChange:function(e){return b(e.currentTarget.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"winningScore"},"".concat(s.winning_score[i])),r.a.createElement("input",{className:"form-control",type:"number",id:"winningScore",value:N,onChange:function(e){return w(e.currentTarget.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"alternateServe"},"".concat(s.alt_serve[i],":")),r.a.createElement("select",{className:"form-control",id:"alternateServe",value:O,onChange:function(e){return j(e.currentTarget.value)}},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"))),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"".concat(s.start_game[i]))))},f=Object(o.b)((function(e){return{language:e.language,player1Name:e.player1Name,player2Name:e.player2Name,winningScore:e.winningScore,serveInterval:e.serveInterval}}),(function(e){return{handleSubmit:function(a){return e(function(e){var a=e.player1Name,n=e.player2Name,t=e.serveInterval,r=e.winningScore;return function(e){E.post("/",{player_1:a,player_2:n,winning_score:r,change_serve:t}).then((function(a){var n=a.data;e(function(e){return{type:"START_GAME",gameId:e.id,player1Name:e.player_1.name,player2Name:e.player_2.name,winningScore:+e.winning_score,serveInterval:+e.change_serve}}(n.data))}))}}(a))}}}))(v),N=n(28),w=n(29),_=n(32),S=n(31),O=function(e){Object(_.a)(n,e);var a=Object(S.a)(n);function n(){return Object(N.a)(this,n),a.apply(this,arguments)}return Object(w.a)(n,[{key:"componentDidMount",value:function(){this.props.loaded||this.props.handleMount()}},{key:"render",value:function(){var e=this.props,a=e.children;return e.loaded?a:r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar progress-bar-striped active",style:{width:"100%"}}))}}]),n}(t.Component),j=Object(o.b)((function(e){return{loaded:e.historyLoaded}}),(function(e){return{handleMount:function(){return e(y())}}}))(O),I=function(e){var a=e.language,n=e.handleLanguage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"btn-group btn-group-toggle pt-1","data-toggle":"buttons"},r.a.createElement("label",{className:"btn btn-sm btn-info ".concat("English"===a?"active":"")},r.a.createElement("input",{type:"radio",name:"options",id:"english",onChange:n}),"English"),r.a.createElement("div",{className:"btn btn-sm btn-secondary"},r.a.createElement(u.a,{icon:m.a})),r.a.createElement("label",{className:"btn btn-sm btn-info ".concat("Esperanto"===a?"active":"")},r.a.createElement("input",{type:"radio",name:"options",id:"esperanto",onChange:n}),"Esperanto")))},A=Object(o.b)((function(e){return{language:e.language}}),(function(e){return{handleLanguage:function(){return e({type:"TOGGLE_LANGUAGE"})}}}))(I),G=function(e){var a=e.server,n=e.player,t=e.score,l=e.handleIncrement,c=e.gameOver,o=e.language,i=e.playerName;return r.a.createElement("div",{className:"col-md-6 mt-4"},r.a.createElement("div",{className:(a===+n?"bg-dark text-white ":"")+"card text-center"},r.a.createElement("h5",{className:"card-header"},"".concat(s.player[o]," ").concat(n,": ").concat(i)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text display-1"},t)),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"form-control btn btn-success",onClick:function(){return l(n)},disabled:c},r.a.createElement(u.a,{icon:m.b})))))},C=Object(o.b)((function(e){return{server:e.server,score:e.player1,language:e.language,gameOver:0!==e.winner,playerName:e.player1Name}}),(function(e){return{handleIncrement:function(a){return e(d(a))}}}))(G),L=Object(o.b)((function(e){return{server:e.server,score:e.player2,language:e.language,gameOver:0!==e.winner,playerName:e.player2Name}}),(function(e){return{handleIncrement:function(a){return e(d(a))}}}))(G),M=function(e){var a=e.winner,n=e.language;return 0!==a?r.a.createElement("h2",{className:"alert alert-success"},"".concat(s.player[n]," ").concat(a," ").concat(s.wins[n],"!")):null},T=Object(o.b)((function(e){return{winner:e.winner,language:e.language}}))(M),x=function(e){var a=e.language,n=e.gameId,t=e.handleNewGame;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{class:"text-center bg-warning w-50 m-auto p-4 border border-warning rounded"},"".concat(s.game[a]," # ").concat(n)),r.a.createElement("div",{className:"row mb-4"},r.a.createElement(C,{player:1}),r.a.createElement(L,{player:2})),r.a.createElement(T,null),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-primary",onClick:t},s.new_game[a])),r.a.createElement("hr",null))},R=Object(o.b)((function(e){return{language:e.language,gameId:e.gameId}}),(function(e){return{handleNewGame:function(){e({type:"NEW_GAME"}),e(y())}}}))(x),H=function(e){var a=e.showSettings;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(i,{title:"Pong Ping"}),a?r.a.createElement(f,null):r.a.createElement(R,null),r.a.createElement(j,null,r.a.createElement(b,null)))},k=Object(o.b)((function(e){return{language:e.language,showSettings:e.showSettings}}),(function(e){return{handleNewGame:function(){e({type:"NEW_GAME"}),e(y())},handleLanguage:function(){return e({type:"TOGGLE_LANGUAGE"})}}}))(H),F=n(8),D={gameId:"",showSettings:!0,player1:0,player2:0,player1Name:"",player2Name:"",winningScore:21,serveInterval:5,server:1,winner:0,gameHistory:[],historyLoaded:!1,language:"English"},P=n(4),U=function(e,a){switch(a.type){case"UPDATE_SCORE":return function(e,a){var n=a.player1,t=a.player2,r=a.server,l=a.winner;return Object(P.a)(Object(P.a)({},e),{},{player1:n,player2:t,server:r,winner:l})}(e,a);case"NEW_GAME":return function(e){return Object(P.a)(Object(P.a)({},D),{},{language:e.language,serveInterval:e.serveInterval,winningScore:e.winningScore,player1Name:e.player1Name,player2Name:e.player2Name})}(e);case"TOGGLE_LANGUAGE":return function(e){return Object(P.a)(Object(P.a)({},e),{},{language:"English"===e.language?"Esperanto":"English"})}(e);case"START_GAME":return function(e,a){return Object(P.a)(Object(P.a)({},e),{},{showSettings:!1,gameId:a.gameId,player1Name:a.player1Name,player2Name:a.player2Name,winningScore:a.winningScore,serveInterval:a.serveInterval})}(e,a);case"SAVE_HISTORY":return function(e,a){return Object(P.a)(Object(P.a)({},e),{},{gameHistory:a.gameHistory,historyLoaded:!0})}(e,a);case"REMOVE_GAME":return function(e,a){return Object(P.a)(Object(P.a)({},e),{},{gameHistory:e.gameHistory.filter((function(e){return e.id!==a.id}))})}(e,a);case"RESUME_GAME":return function(e,a){var n=a.gameId,t=a.player1,r=a.player2,l=a.player1Name,c=a.player2Name,o=a.winningScore,i=a.serveInterval,s=a.server;return Object(P.a)(Object(P.a)({},e),{},{showSettings:!1,gameId:n,player1:t,player2:r,player1Name:l,player2Name:c,winningScore:o,serveInterval:i,server:s})}(e,a);default:return e}},V=n(30),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,z=Object(F.d)(U,D,W(Object(F.a)(V.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:z}," ",r.a.createElement(k,null))),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.72b9469d.chunk.js.map